{"data":{"site":{"siteMetadata":{"title":"ğŸ¤”ï¸Jason Yang's Blog","author":"Jason Yang"}},"markdownRemark":{"id":"00eec165-b820-55c7-b9c1-2f16e370b2be","excerpt":"åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/w348399060/article/details/62424502","html":"<blockquote>\n<p>åŸæ–‡é“¾æ¥ï¼š<a href=\"https://blog.csdn.net/w348399060/article/details/62424502\">https://blog.csdn.net/w348399060/article/details/62424502</a></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HttpURLConnectionPost</span> <span class=\"token punctuation\">{</span>  \n  \n\t<span class=\"token comment\">/**  \n\t* @param args  \n\t* @throws IOException  \n\t*/</span>  \n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">{</span>  \n\t\t<span class=\"token function\">readContentFromPost</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t<span class=\"token punctuation\">}</span>  \n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">readContentFromPost</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">{</span>  \n\t\t<span class=\"token comment\">// Postè¯·æ±‚çš„urlï¼Œä¸getä¸åŒçš„æ˜¯ä¸éœ€è¦å¸¦å‚æ•°  </span>\n\t\t<span class=\"token class-name\">URL</span> postUrl <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token function\">URL</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://www.xxxxxxx.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\t<span class=\"token comment\">// æ‰“å¼€è¿æ¥  </span>\n\t\t<span class=\"token class-name\">HttpURLConnection</span> connection <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpURLConnection</span><span class=\"token punctuation\">)</span> postUrl<span class=\"token punctuation\">.</span><span class=\"token function\">openConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>       \n\t\t<span class=\"token comment\">// è®¾ç½®æ˜¯å¦å‘connectionè¾“å‡ºï¼Œå› ä¸ºè¿™ä¸ªæ˜¯postè¯·æ±‚ï¼Œå‚æ•°è¦æ”¾åœ¨httpæ­£æ–‡å†…ï¼Œå› æ­¤éœ€è¦è®¾ä¸ºtrue  </span>\n\t\tconnection<span class=\"token punctuation\">.</span><span class=\"token function\">setDoOutput</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\t<span class=\"token comment\">// Read from the connection. Default is true.  </span>\n\t\tconnection<span class=\"token punctuation\">.</span><span class=\"token function\">setDoInput</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\t<span class=\"token comment\">// é»˜è®¤æ˜¯ GETæ–¹å¼  </span>\n\t\tconnection<span class=\"token punctuation\">.</span><span class=\"token function\">setRequestMethod</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"POST\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        \n\t\t<span class=\"token comment\">// Post è¯·æ±‚ä¸èƒ½ä½¿ç”¨ç¼“å­˜  </span>\n\t\tconnection<span class=\"token punctuation\">.</span><span class=\"token function\">setUseCaches</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    \n\t\t<span class=\"token comment\">//è®¾ç½®æœ¬æ¬¡è¿æ¥æ˜¯å¦è‡ªåŠ¨é‡å®šå‘   </span>\n\t\tconnection<span class=\"token punctuation\">.</span><span class=\"token function\">setInstanceFollowRedirects</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        \n\t\t<span class=\"token comment\">// é…ç½®æœ¬æ¬¡è¿æ¥çš„Content-typeï¼Œé…ç½®ä¸ºapplication/x-www-form-urlencodedçš„  </span>\n\t\t<span class=\"token comment\">// æ„æ€æ˜¯æ­£æ–‡æ˜¯urlencodedç¼–ç è¿‡çš„formå‚æ•°  </span>\n\t\tconnection<span class=\"token punctuation\">.</span><span class=\"token function\">setRequestProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Content-Type\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"application/x-www-form-urlencoded\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\t<span class=\"token comment\">// è¿æ¥ï¼Œä»postUrl.openConnection()è‡³æ­¤çš„é…ç½®å¿…é¡»è¦åœ¨connectä¹‹å‰å®Œæˆï¼Œ  </span>\n\t\t<span class=\"token comment\">// è¦æ³¨æ„çš„æ˜¯connection.getOutputStreamä¼šéšå«çš„è¿›è¡Œconnectã€‚  </span>\n\t\tconnection<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\t<span class=\"token class-name\">DataOutputStream</span> out <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DataOutputStream</span><span class=\"token punctuation\">(</span>connection<span class=\"token punctuation\">.</span><span class=\"token function\">getOutputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\t<span class=\"token comment\">// æ­£æ–‡ï¼Œæ­£æ–‡å†…å®¹å…¶å®è·Ÿgetçš„URLä¸­ '? 'åçš„å‚æ•°å­—ç¬¦ä¸²ä¸€è‡´  </span>\n\t\t<span class=\"token class-name\">String</span> content <span class=\"token operator\">=</span> <span class=\"token string\">\"å­—æ®µå=\"</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">URLEncoder</span><span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­—ç¬¦ä¸²å€¼\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ç¼–ç \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\t<span class=\"token comment\">// DataOutputStream.writeByteså°†å­—ç¬¦ä¸²ä¸­çš„16ä½çš„unicodeå­—ç¬¦ä»¥8ä½çš„å­—ç¬¦å½¢å¼å†™åˆ°æµé‡Œé¢  </span>\n\t\tout<span class=\"token punctuation\">.</span><span class=\"token function\">writeBytes</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\t<span class=\"token comment\">//æµç”¨å®Œè®°å¾—å…³  </span>\n\t\tout<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\tout<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\t<span class=\"token comment\">//è·å–å“åº”  </span>\n\t\t<span class=\"token class-name\">BufferedReader</span> reader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">BufferedReader</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">InputStreamReader</span><span class=\"token punctuation\">(</span>connection<span class=\"token punctuation\">.</span><span class=\"token function\">getInputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\t<span class=\"token class-name\">String</span> line<span class=\"token punctuation\">;</span>  \n\t\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>line <span class=\"token operator\">=</span> reader<span class=\"token punctuation\">.</span><span class=\"token function\">readLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>  \n\t\t\t\t<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\t<span class=\"token punctuation\">}</span>  \n\t\treader<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\t<span class=\"token comment\">//è¯¥å¹²çš„éƒ½å¹²å®Œäº†,è®°å¾—æŠŠè¿æ¥æ–­äº†  </span>\n\t\tconnection<span class=\"token punctuation\">.</span><span class=\"token function\">disconnect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t<span class=\"token punctuation\">}</span>  \n  \n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"JAVA HttpURLConnection Postæ–¹å¼æäº¤ä¼ é€’å‚æ•°","date":"2018-05-08"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/java-http-url-connection-post/","previous":{"fields":{"slug":"/sleepless-in-java/"},"frontmatter":{"title":"å¤œæœªçœ -ç¨‹åºå‘˜çš„å¿ƒå£°"}},"next":{"fields":{"slug":"/Integrate-an-h2-database-in-your-springboot-app/"},"frontmatter":{"title":"Integrate an H2 Database in Your Spring Boot App"}}}}